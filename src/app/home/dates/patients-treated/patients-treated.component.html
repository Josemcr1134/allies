<div class=" sm:px-6 lg:px-8  mt-4">
    <header>
        <div class=" mx-auto px-4 sm:px-6 lg:px-8">
            <h1 routerLink="/Home/Dates/AllDates" class="text-2xl font-bold leading-tight  flex flex-nowrap text-cyan-600 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 mt-1 w-5 font-bold" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                  </svg> <span style="margin:0px 5px">Pacientes atendidos</span>
            </h1>
        </div>
    </header>

    <div class="mt-8">
        <div class="px-4 sm:px-6 lg:px-8 mt-8  rounded-md">
            <div class="mt-8 flex flex-col">
                <ul class="nav nav-tabs nav-justified flex flex-col  md:flex-row  flex-wrap list-none  border-b-0 pl-0 mb-4 " id="tabs-tabJustify" role="tablist">
                    <li class="nav-item flex-grow text-center" role="presentation">
                        <a href="#tabs-today" class="
                            nav-link
                            w-full
                            block
                            font-medium
                            text-xs
                            leading-tight
                            uppercase
                            border-x-0 border-t-0 border-b-2 border-transparent
                            px-6
                            py-3
                            my-2
                            hover:border-transparent hover:bg-gray-100
                            focus:border-transparent
                            active
                            " id="tabs-dates-today" data-bs-toggle="pill" data-bs-target="#tabs-today" role="tab" aria-controls="tabs-today" aria-selected="false">Hoy</a>
                    </li>
                    <li class="nav-item flex-grow text-center" role="presentation">
                        <a href="#tabs-profileJustify" class="
                            nav-link
                            w-full
                            block
                            font-medium
                            text-xs
                            leading-tight
                            uppercase
                            border-x-0 border-t-0 border-b-2 border-transparent
                            px-6
                            py-3
                            my-2
                            hover:border-transparent hover:bg-gray-100
                            focus:border-transparent
                            " id="tabs-profile-tabJustify" data-bs-toggle="pill" data-bs-target="#tabs-profileJustify" role="tab" aria-controls="tabs-profileJustify" aria-selected="false">Semana/Mes</a>
                    </li>
                </ul>
                <div class="tab-content" id="tabs-tabContentJustify">
                    <div class="tab-pane fade show active" id="tabs-today" role="tabpanel" aria-labelledby="tabs-dates-today">
                        <div class="px-4 sm:px-6 lg:px-8 pb-4 shadow-lg bg-gray-100 rounded-md">
                            <header class="relative z-20 flex items-center justify-end border-b border-gray-200 py-4  lg:flex-none">

                                <div class="flex items-center">
                                    <div class="hidden md:ml-4 md:flex md:items-center">
                                        <div class="flex items-center justify-center">
                                            <div class=" relative   w-full">
                                                <input type="date" [(ngModel)]="date" (change)="GetAppointmentsByDateAndStatus()"  class="form-control block w-full px-3 rounded-md  text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300  transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                                                    placeholder="Select a date" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </header>
                            <div class="mt-8 flex flex-col">
                                <div class="-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8">
                                    <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
                                        <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg" *ngIf="DatesByDate.length">
                                            <table class="min-w-full divide-y divide-gray-300">
                                                <thead class="bg-gray-50">
                                                    <tr>
                                                        <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-cyan-900 sm:pl-6">Afiliado</th>
                                                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-cyan-900">ID</th>
                                                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-cyan-900">Fecha</th>
                                                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-cyan-900">Tipo de cita</th>
                                                        <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-6"></th>
                                                    </tr>
                                                </thead>
                                                <tbody class="divide-y divide-gray-200 bg-white">
                                                    <tr *ngFor="let d of DatesByDate">
                                                        <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6">
                                                            <div class="flex items-center">
                                                                <div class="h-10 w-10 flex-shrink-0">
                                                                    <img class="h-10 w-10 rounded-full" *ngIf="d.user.avatar === null"  src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                                                                    <img class="h-10 w-10 rounded-full" *ngIf="d.user.avatar"  [src]="d.user.avatar" alt="">
                                                                </div>
                                                                <div class="ml-4">
                                                                    <div class="font-medium text-gray-900">{{d.user.first_name}} {{d.user.last_name}} </div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                            <div class="text-gray-900">{{d.user.document}}</div>

                                                        </td>
                                                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                            <span class="inline-flex rounded-full  px-2 text-xs font-semibold leading-5 ">Últ. atención {{d.date}}</span>
                                                        </td>
                                                        <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 " >
                                                          <span *ngIf="d.is_telemedicine === false">Presencial</span>
                                                          <span *ngIf="d.is_telemedicine === true">Telemdicina</span>
                                                        </td>
                                                        <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6">
                                                          <a [routerLink]="['/Home/Affiliates/AffiliateMedicRecord',d.user.id ,d.id]" class="cursor-pointer ">
                                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 cursor-pointer text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                                                <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                                              </svg>
                                                          </a>
                                                        </td>
                                                    </tr>

                                                    <!-- More people... -->
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="rounded-md bg-yellow-50 p-4" *ngIf="DatesByDate.length === 0" >
                                          <div class="flex">
                                            <div class="flex-shrink-0">
                                              <!-- Heroicon name: mini/exclamation-triangle -->
                                              <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                                              </svg>
                                            </div>
                                            <div class="ml-3">
                                              <h3 class="text-sm font-medium text-yellow-800">Ooooops</h3>
                                              <div class="mt-2 text-sm text-yellow-700">
                                                <p>No encontramos pacientes atendidos en el día .</p>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- Pagination -->
                                        <nav class="mt-2 flex items-center justify-between border-t border-gray-200 px-4 sm:px-0">
                                          <div class="-mt-px flex w-0 flex-1">
                                            <button [disabled]="previous === null" (click)="PaginationByDay(-1)"  class="disabled:cursor-none disabled:opacity-60 inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
                                              <!-- Heroicon name: mini/arrow-long-left -->
                                              <svg class="mr-3 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd" />
                                              </svg>
                                              Previous
                                            </button>
                                          </div>

                                          <div class="-mt-px flex w-0 flex-1 justify-end">
                                            <button [disabled]="next === null" (click)="PaginationByDay(1)" class="disabled:cursor-none disabled:opacity-60 inline-flex items-center border-t-2 border-transparent pt-4 pl-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
                                              Next
                                              <!-- Heroicon name: mini/arrow-long-right -->
                                              <svg class="ml-3 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
                                              </svg>
                                            </button>
                                          </div>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade " id="tabs-profileJustify" role="tabpanel" aria-labelledby="tabs-profile-tabJustify">
                        <div class="px-4 sm:px-6 lg:px-8 pb-4 shadow-lg bg-gray-100 rounded-md">
                          <header class="relative z-20 flex items-center justify-between border-b  border-gray-200 py-4 gap-x-1  lg:flex-none">
                            <input type="date" [(ngModel)]="start_date" class="form-control block w-full px-3 mb-2 rounded-md  text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300  transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" placeholder="Select a date" />
                            <input type="date" [(ngModel)]="end_date" class="form-control block w-full px-3 mb-2 rounded-md  text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300  transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" placeholder="Select a date" />
                            <button type="button" (click)="GetAttendedAppointmentsByIntervall()" [disabled]="start_date.length === 0 || end_date.length === 0" class="disabled:opacity-60 disabled:cursor-none focus:outline-none lg:ml-6 mb-2 rounded-md border border-transparent btn-primary py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Filtrar</button>
                        </header>
                            <div class="mt-8 flex flex-col">
                                <div class="-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8">
                                    <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8" >
                                        <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg" *ngIf="DatesByIntervall.length">
                                            <table class="min-w-full divide-y divide-gray-300">
                                                <thead class="bg-gray-50">
                                                    <tr>
                                                        <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-cyan-900 sm:pl-6">Afiliado</th>
                                                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-cyan-900">ID</th>
                                                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-cyan-900">Fecha</th>
                                                        <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-cyan-900">Tipo de cita</th>
                                                        <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-6"></th>
                                                    </tr>
                                                </thead>
                                                <tbody class="divide-y divide-gray-200 bg-white">
                                                    <tr *ngFor="let d of DatesByIntervall">
                                                      <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6">
                                                        <div class="flex items-center">
                                                            <div class="h-10 w-10 flex-shrink-0">
                                                                <img class="h-10 w-10 rounded-full" *ngIf="d.user.avatar === null"  src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
                                                                <img class="h-10 w-10 rounded-full" *ngIf="d.user.avatar"  [src]="d.user.avatar" alt="">
                                                            </div>
                                                            <div class="ml-4">
                                                                <div class="font-medium text-gray-900">{{d.user.first_name}} {{d.user.last_name}} </div>
                                                            </div>
                                                        </div>
                                                    </td>
                                                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                        <div class="text-gray-900">{{d.user.document}}</div>

                                                    </td>
                                                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                        <span class="inline-flex rounded-full  px-2 text-xs font-semibold leading-5 ">Últ. atención {{d.date}}</span>
                                                    </td>
                                                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 " >
                                                      <span *ngIf="d.is_telemedicine === false">Presencial</span>
                                                      <span *ngIf="d.is_telemedicine === true">Telemdicina</span>
                                                    </td>
                                                    <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6">
                                                      <a [routerLink]="['/Home/Affiliates/AffiliateMedicRecord',d.user.id ,d.id]" class="cursor-pointer ">
                                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 cursor-pointer text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                                          </svg>
                                                      </a>
                                                    </td>
                                                    </tr>

                                                    <!-- More people... -->
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="rounded-md bg-yellow-50 p-4" *ngIf="DatesByIntervall.length === 0" >
                                          <div class="flex">
                                            <div class="flex-shrink-0">
                                              <!-- Heroicon name: mini/exclamation-triangle -->
                                              <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                                              </svg>
                                            </div>
                                            <div class="ml-3">
                                              <h3 class="text-sm font-medium text-yellow-800">Ooooops</h3>
                                              <div class="mt-2 text-sm text-yellow-700">
                                                <p>No encontramos pacientes atendidos en el rango seleccionado .</p>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!-- Pagination -->
                                        <nav class="mt-2 flex items-center justify-between border-t border-gray-200 px-4 sm:px-0">
                                          <div class="-mt-px flex w-0 flex-1">
                                            <button [disabled]="previousIntervall === null" (click)="PaginationByIntervall(-1)"  class="disabled:cursor-none disabled:opacity-60 inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
                                              <!-- Heroicon name: mini/arrow-long-left -->
                                              <svg class="mr-3 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd" />
                                              </svg>
                                              Previous
                                            </button>
                                          </div>

                                          <div class="-mt-px flex w-0 flex-1 justify-end">
                                            <button [disabled]="nextIntervall === null" (click)="PaginationByIntervall(1)" class="disabled:cursor-none disabled:opacity-60 inline-flex items-center border-t-2 border-transparent pt-4 pl-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700">
                                              Next
                                              <!-- Heroicon name: mini/arrow-long-right -->
                                              <svg class="ml-3 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd" />
                                              </svg>
                                            </button>
                                          </div>
                                        </nav>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
